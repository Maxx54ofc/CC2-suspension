local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local workspace = game:GetService("Workspace")

-- Criar ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = playerGui
screenGui.Enabled = true

-- Criar Botão Principal
local mainButton = Instance.new("TextButton")
mainButton.Size = UDim2.new(0, 50, 0, 50)
mainButton.Position = UDim2.new(0.1, 0, 0.1, 0)
mainButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainButton.Text = "+"
mainButton.TextColor3 = Color3.fromRGB(255, 255, 255)
mainButton.TextScaled = true
mainButton.Parent = screenGui
mainButton.Draggable = true
mainButton.Active = true
mainButton.Selectable = true
mainButton.Visible = true

local mainButtonCorner = Instance.new("UICorner")
mainButtonCorner.CornerRadius = UDim.new(1, 0)
mainButtonCorner.Parent = mainButton

local mainButtonStroke = Instance.new("UIStroke")
mainButtonStroke.Color = Color3.fromRGB(88, 137, 192)
mainButtonStroke.Thickness = 2
mainButtonStroke.Parent = mainButton

local mainButtonTextStroke = Instance.new("UIStroke")
mainButtonTextStroke.Color = Color3.fromRGB(25, 45, 58)
mainButtonTextStroke.Thickness = 1
mainButtonTextStroke.Parent = mainButton

-- Criar Frame da Interface
local uiFrame = Instance.new("Frame")
uiFrame.Size = UDim2.new(0, 350, 0, 300)
uiFrame.Position = UDim2.new(0.1, 60, 0, 10)
uiFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
uiFrame.Visible = false
uiFrame.Active = true
uiFrame.Draggable = true
uiFrame.Parent = screenGui

local uiFrameCorner = Instance.new("UICorner")
uiFrameCorner.CornerRadius = UDim.new(0, 12)
uiFrameCorner.Parent = uiFrame

local uiFrameStroke = Instance.new("UIStroke")
uiFrameStroke.Color = Color3.fromRGB(88, 137, 192)
uiFrameStroke.Thickness = 1
uiFrameStroke.Parent = uiFrame

-- Título da interface
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0, 5)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Suspension Control By Maxx54"
titleLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.Parent = uiFrame

local titleLabelStroke = Instance.new("UIStroke")
titleLabelStroke.Color = Color3.fromRGB(25, 45, 58)
titleLabelStroke.Thickness = 1
titleLabelStroke.Parent = titleLabel

-- Botões de seleção de menu
local suspensionMenuButton = Instance.new("TextButton")
suspensionMenuButton.Size = UDim2.new(0, 100, 0, 30)
suspensionMenuButton.Position = UDim2.new(0, 20, 0, 40)
suspensionMenuButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
suspensionMenuButton.Text = "Suspension"
suspensionMenuButton.TextColor3 = Color3.fromRGB(25, 45, 58)
suspensionMenuButton.TextScaled = true
suspensionMenuButton.Font = Enum.Font.SourceSansBold
suspensionMenuButton.Parent = uiFrame

local suspensionMenuButtonCorner = Instance.new("UICorner")
suspensionMenuButtonCorner.CornerRadius = UDim.new(0, 8)
suspensionMenuButtonCorner.Parent = suspensionMenuButton

local suspensionMenuButtonStroke = Instance.new("UIStroke")
suspensionMenuButtonStroke.Color = Color3.fromRGB(255, 255, 255)
suspensionMenuButtonStroke.Thickness = 1
suspensionMenuButtonStroke.Parent = suspensionMenuButton

local lightsMenuButton = Instance.new("TextButton")
lightsMenuButton.Size = UDim2.new(0, 100, 0, 30)
lightsMenuButton.Position = UDim2.new(0, 130, 0, 40)
lightsMenuButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
lightsMenuButton.Text = "Lights"
lightsMenuButton.TextColor3 = Color3.fromRGB(25, 45, 58)
lightsMenuButton.TextScaled = true
lightsMenuButton.Font = Enum.Font.SourceSansBold
lightsMenuButton.Parent = uiFrame

local lightsMenuButtonCorner = Instance.new("UICorner")
lightsMenuButtonCorner.CornerRadius = UDim.new(0, 8)
lightsMenuButtonCorner.Parent = lightsMenuButton

local lightsMenuButtonStroke = Instance.new("UIStroke")
lightsMenuButtonStroke.Color = Color3.fromRGB(255, 255, 255)
lightsMenuButtonStroke.Thickness = 1
lightsMenuButtonStroke.Parent = lightsMenuButton

-- Frame do menu Suspension
local suspensionFrame = Instance.new("Frame")
suspensionFrame.Size = UDim2.new(1, -20, 1, -80)
suspensionFrame.Position = UDim2.new(0, 10, 0, 80)
suspensionFrame.BackgroundTransparency = 1
suspensionFrame.Visible = true
suspensionFrame.Parent = uiFrame

-- Adicionar ScrollingFrame para Suspension
local scrollingFrame = Instance.new("ScrollingFrame")
scrollingFrame.Size = UDim2.new(1, 0, 1, 0)
scrollingFrame.Position = UDim2.new(0, 0, 0, 0)
scrollingFrame.BackgroundTransparency = 1
scrollingFrame.ScrollBarThickness = 6
scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 650)
scrollingFrame.Parent = suspensionFrame

-- Frame do menu Lights
local lightsFrame = Instance.new("Frame")
lightsFrame.Size = UDim2.new(1, -20, 1, -80)
lightsFrame.Position = UDim2.new(0, 10, 0, 80)
lightsFrame.BackgroundTransparency = 1
lightsFrame.Visible = false
lightsFrame.Parent = uiFrame

-- Adicionar ScrollingFrame para Lights
local lightsScrollingFrame = Instance.new("ScrollingFrame")
lightsScrollingFrame.Size = UDim2.new(0, 210, 1, 0)
lightsScrollingFrame.Position = UDim2.new(0, 0, 0, -1)
lightsScrollingFrame.BackgroundTransparency = 1
lightsScrollingFrame.ScrollBarThickness = 6
lightsScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 280) -- Aumentado para caber o novo botão
lightsScrollingFrame.Parent = lightsFrame

-- Botão Strobe Lights
local strobeButton = Instance.new("TextButton")
strobeButton.Size = UDim2.new(0, 100, 0, 30)
strobeButton.Position = UDim2.new(0, 20, 0, 20)
strobeButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
strobeButton.Text = "Strobe: OFF"
strobeButton.TextColor3 = Color3.fromRGB(25, 45, 58)
strobeButton.TextScaled = true
strobeButton.Font = Enum.Font.SourceSans
strobeButton.Parent = lightsScrollingFrame

local strobeButtonCorner = Instance.new("UICorner")
strobeButtonCorner.CornerRadius = UDim.new(0, 8)
strobeButtonCorner.Parent = strobeButton

local strobeButtonStroke = Instance.new("UIStroke")
strobeButtonStroke.Color = Color3.fromRGB(255, 255, 255)
strobeButtonStroke.Thickness = 1
strobeButtonStroke.Parent = strobeButton

local strobeButtonTextStroke = Instance.new("UIStroke")
strobeButtonTextStroke.Color = Color3.fromRGB(255, 255, 255)
strobeButtonTextStroke.Thickness = 1
strobeButtonTextStroke.Parent = strobeButton

-- Controles do Strobe
local strobeSpeedLabel = Instance.new("TextLabel")
strobeSpeedLabel.Size = UDim2.new(0, 50, 0, 20)
strobeSpeedLabel.Position = UDim2.new(0, 20, 0, 60)
strobeSpeedLabel.BackgroundTransparency = 1
strobeSpeedLabel.Text = "Speed"
strobeSpeedLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
strobeSpeedLabel.TextScaled = true
strobeSpeedLabel.Font = Enum.Font.SourceSans
strobeSpeedLabel.Parent = lightsScrollingFrame

local strobeSpeedTextBox = Instance.new("TextBox")
strobeSpeedTextBox.Size = UDim2.new(0, 70, 0, 25)
strobeSpeedTextBox.Position = UDim2.new(0, 80, 0, 58)
strobeSpeedTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
strobeSpeedTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
strobeSpeedTextBox.Text = "0.2"
strobeSpeedTextBox.TextScaled = true
strobeSpeedTextBox.Font = Enum.Font.SourceSans
strobeSpeedTextBox.Parent = lightsScrollingFrame

local strobeSpeedCorner = Instance.new("UICorner")
strobeSpeedCorner.CornerRadius = UDim.new(0, 6)
strobeSpeedCorner.Parent = strobeSpeedTextBox

local strobeSpeedStroke = Instance.new("UIStroke")
strobeSpeedStroke.Color = Color3.fromRGB(88, 137, 192)
strobeSpeedStroke.Thickness = 1
strobeSpeedStroke.Parent = strobeSpeedTextBox

local strobeRepLabel = Instance.new("TextLabel")
strobeRepLabel.Size = UDim2.new(0, 50, 0, 20)
strobeRepLabel.Position = UDim2.new(0, 20, 0, 90)
strobeRepLabel.BackgroundTransparency = 1
strobeRepLabel.Text = "Reps"
strobeRepLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
strobeRepLabel.TextScaled = true
strobeRepLabel.Font = Enum.Font.SourceSans
strobeRepLabel.Parent = lightsScrollingFrame

local strobeRepTextBox = Instance.new("TextBox")
strobeRepTextBox.Size = UDim2.new(0, 70, 0, 25)
strobeRepTextBox.Position = UDim2.new(0, 80, 0, 88)
strobeRepTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
strobeRepTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
strobeRepTextBox.Text = "5"
strobeRepTextBox.TextScaled = true
strobeRepTextBox.Font = Enum.Font.SourceSans
strobeRepTextBox.Parent = lightsScrollingFrame

local strobeRepCorner = Instance.new("UICorner")
strobeRepCorner.CornerRadius = UDim.new(0, 6)
strobeRepCorner.Parent = strobeRepTextBox

local strobeRepStroke = Instance.new("UIStroke")
strobeRepStroke.Color = Color3.fromRGB(88, 137, 192)
strobeRepStroke.Thickness = 1
strobeRepStroke.Parent = strobeRepTextBox

local strobeWaitLabel = Instance.new("TextLabel")
strobeWaitLabel.Size = UDim2.new(0, 50, 0, 20)
strobeWaitLabel.Position = UDim2.new(0, 20, 0, 120)
strobeWaitLabel.BackgroundTransparency = 1
strobeWaitLabel.Text = "Wait"
strobeWaitLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
strobeWaitLabel.TextScaled = true
strobeWaitLabel.Font = Enum.Font.SourceSans
strobeWaitLabel.Parent = lightsScrollingFrame

local strobeWaitTextBox = Instance.new("TextBox")
strobeWaitTextBox.Size = UDim2.new(0, 70, 0, 25)
strobeWaitTextBox.Position = UDim2.new(0, 80, 0, 118)
strobeWaitTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
strobeWaitTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
strobeWaitTextBox.Text = "1"
strobeWaitTextBox.TextScaled = true
strobeWaitTextBox.Font = Enum.Font.SourceSans
strobeWaitTextBox.Parent = lightsScrollingFrame

local strobeWaitCorner = Instance.new("UICorner")
strobeWaitCorner.CornerRadius = UDim.new(0, 6)
strobeWaitCorner.Parent = strobeWaitTextBox

local strobeWaitStroke = Instance.new("UIStroke")
strobeWaitStroke.Color = Color3.fromRGB(88, 137, 192)
strobeWaitStroke.Thickness = 1
strobeWaitStroke.Parent = strobeWaitTextBox

-- Menu de luz
local strobeRangeLabel = Instance.new("TextLabel")
strobeRangeLabel.Size = UDim2.new(0, 50, 0, 20)
strobeRangeLabel.Position = UDim2.new(0, 20, 0, 150)
strobeRangeLabel.BackgroundTransparency = 1
strobeRangeLabel.Text = "Range"
strobeRangeLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
strobeRangeLabel.TextScaled = true
strobeRangeLabel.Font = Enum.Font.SourceSans
strobeRangeLabel.Parent = lightsScrollingFrame

local strobeRangeTextBox = Instance.new("TextBox")
strobeRangeTextBox.Size = UDim2.new(0, 70, 0, 25)
strobeRangeTextBox.Position = UDim2.new(0, 80, 0, 148)
strobeRangeTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
strobeRangeTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
strobeRangeTextBox.Text = "10"
strobeRangeTextBox.TextScaled = true
strobeRangeTextBox.Font = Enum.Font.SourceSans
strobeRangeTextBox.Parent = lightsScrollingFrame

local strobeRangeCorner = Instance.new("UICorner")
strobeRangeCorner.CornerRadius = UDim.new(0, 6)
strobeRangeCorner.Parent = strobeRangeTextBox

local strobeRangeStroke = Instance.new("UIStroke")
strobeRangeStroke.Color = Color3.fromRGB(88, 137, 192)
strobeRangeStroke.Thickness = 1
strobeRangeStroke.Parent = strobeRangeTextBox

local strobeBrightnessLabel = Instance.new("TextLabel")
strobeBrightnessLabel.Size = UDim2.new(0, 50, 0, 20)
strobeBrightnessLabel.Position = UDim2.new(0, 20, 0, 180)
strobeBrightnessLabel.BackgroundTransparency = 1
strobeBrightnessLabel.Text = "Bright"
strobeBrightnessLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
strobeBrightnessLabel.TextScaled = true
strobeBrightnessLabel.Font = Enum.Font.SourceSans
strobeBrightnessLabel.Parent = lightsScrollingFrame

local strobeBrightnessTextBox = Instance.new("TextBox")
strobeBrightnessTextBox.Size = UDim2.new(0, 70, 0, 25)
strobeBrightnessTextBox.Position = UDim2.new(0, 80, 0, 178)
strobeBrightnessTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
strobeBrightnessTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
strobeBrightnessTextBox.Text = "1"
strobeBrightnessTextBox.TextScaled = true
strobeBrightnessTextBox.Font = Enum.Font.SourceSans
strobeBrightnessTextBox.Parent = lightsScrollingFrame

local strobeBrightnessCorner = Instance.new("UICorner")
strobeBrightnessCorner.CornerRadius = UDim.new(0, 6)
strobeBrightnessCorner.Parent = strobeBrightnessTextBox

local strobeBrightnessStroke = Instance.new("UIStroke")
strobeBrightnessStroke.Color = Color3.fromRGB(88, 137, 192)
strobeBrightnessStroke.Thickness = 1
strobeBrightnessStroke.Parent = strobeBrightnessTextBox

-- Botão Multi-Select
local multiSelectButton = Instance.new("TextButton")
multiSelectButton.Size = UDim2.new(0, 100, 0, 30)
multiSelectButton.Position = UDim2.new(0, 20, 0, 210)
multiSelectButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
multiSelectButton.Text = "Multi: OFF"
multiSelectButton.TextColor3 = Color3.fromRGB(25, 45, 58)
multiSelectButton.TextScaled = true
multiSelectButton.Font = Enum.Font.SourceSans
multiSelectButton.Parent = lightsScrollingFrame

local multiSelectButtonCorner = Instance.new("UICorner")
multiSelectButtonCorner.CornerRadius = UDim.new(0, 8)
multiSelectButtonCorner.Parent = multiSelectButton

local multiSelectButtonStroke = Instance.new("UIStroke")
multiSelectButtonStroke.Color = Color3.fromRGB(255, 255, 255)
multiSelectButtonStroke.Thickness = 1
multiSelectButtonStroke.Parent = multiSelectButton

-- Botão Stop
local stopButton = Instance.new("TextButton")
stopButton.Size = UDim2.new(0, 70, 0, 30)
stopButton.Position = UDim2.new(0, 130, 0, 210)
stopButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
stopButton.Text = "Stop"
stopButton.TextColor3 = Color3.fromRGB(29, 52, 71)
stopButton.TextScaled = true
stopButton.Font = Enum.Font.SourceSansBold
stopButton.Parent = lightsScrollingFrame

local stopButtonCorner = Instance.new("UICorner")
stopButtonCorner.CornerRadius = UDim.new(0, 8)
stopButtonCorner.Parent = stopButton

local stopButtonStroke = Instance.new("UIStroke")
stopButtonStroke.Color = Color3.fromRGB(255, 255, 255)
stopButtonStroke.Thickness = 1
stopButtonStroke.Parent = stopButton

-- Novo Botão Change Color
local changeColorButton = Instance.new("TextButton")
changeColorButton.Size = UDim2.new(0, 100, 0, 30)
changeColorButton.Position = UDim2.new(0, 20, 0, 240)
changeColorButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
changeColorButton.Text = "Change Color"
changeColorButton.TextColor3 = Color3.fromRGB(25, 45, 58)
changeColorButton.TextScaled = true
changeColorButton.Font = Enum.Font.SourceSans
changeColorButton.Parent = lightsScrollingFrame

local changeColorButtonCorner = Instance.new("UICorner")
changeColorButtonCorner.CornerRadius = UDim.new(0, 8)
changeColorButtonCorner.Parent = changeColorButton

local changeColorButtonStroke = Instance.new("UIStroke")
changeColorButtonStroke.Color = Color3.fromRGB(255, 255, 255)
changeColorButtonStroke.Thickness = 1
changeColorButtonStroke.Parent = changeColorButton

-- Campo de entrada para cor RGB
local colorInputTextBox = Instance.new("TextBox")
colorInputTextBox.Size = UDim2.new(0, 70, 0, 25)
colorInputTextBox.Position = UDim2.new(0, 130, 0, 243)
colorInputTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
colorInputTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
colorInputTextBox.PlaceholderText = "R,G,B"
colorInputTextBox.Text = "255,255,255"
colorInputTextBox.TextScaled = true
colorInputTextBox.Font = Enum.Font.SourceSans
colorInputTextBox.Parent = lightsScrollingFrame

local colorInputCorner = Instance.new("UICorner")
colorInputCorner.CornerRadius = UDim.new(0, 6)
colorInputCorner.Parent = colorInputTextBox

local colorInputStroke = Instance.new("UIStroke")
colorInputStroke.Color = Color3.fromRGB(88, 137, 192)
colorInputStroke.Thickness = 1
colorInputStroke.Parent = colorInputTextBox

-- ScrollingFrame para listar itens em Parts
local partsListFrame = Instance.new("ScrollingFrame")
partsListFrame.Size = UDim2.new(0, 100, 0, 190)
partsListFrame.Position = UDim2.new(1, -110, 0, 20)
partsListFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
partsListFrame.ScrollBarThickness = 4
partsListFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
partsListFrame.Parent = lightsFrame

local partsListFrameCorner = Instance.new("UICorner")
partsListFrameCorner.CornerRadius = UDim.new(0, 6)
partsListFrameCorner.Parent = partsListFrame

local partsListFrameStroke = Instance.new("UIStroke")
partsListFrameStroke.Color = Color3.fromRGB(88, 137, 192)
partsListFrameStroke.Thickness = 1
partsListFrameStroke.Parent = partsListFrame

-- Campo de busca
local searchBox = Instance.new("TextBox")
searchBox.Size = UDim2.new(0, 100, 0, 25)
searchBox.Position = UDim2.new(1, -110, 0, -15)
searchBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
searchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
searchBox.PlaceholderText = "Search..."
searchBox.Text = ""
searchBox.TextScaled = true
searchBox.Font = Enum.Font.SourceSans
searchBox.Parent = lightsFrame

local searchBoxCorner = Instance.new("UICorner")
searchBoxCorner.CornerRadius = UDim.new(0, 6)
searchBoxCorner.Parent = searchBox

local searchBoxStroke = Instance.new("UIStroke")
searchBoxStroke.Color = Color3.fromRGB(88, 137, 192)
searchBoxStroke.Thickness = 1
searchBoxStroke.Parent = searchBox

-- Funções auxiliares
local function createLabel(text, size, pos, parent)
	local label = Instance.new("TextLabel")
	label.Size = size
	label.Position = pos
	label.BackgroundTransparency = 1
	label.Text = text
	label.TextColor3 = Color3.fromRGB(220, 220, 220)
	label.TextScaled = true
	label.Font = Enum.Font.SourceSans
	label.Parent = parent

	local stroke = Instance.new("UIStroke")
	stroke.Color = Color3.fromRGB(25, 45, 58)
	stroke.Thickness = 1
	stroke.Parent = label

	return label
end

local function createTextBox(size, pos, parent)
	local textBox = Instance.new("TextBox")
	textBox.Size = size
	textBox.Position = pos
	textBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
	textBox.ClearTextOnFocus = true
	textBox.Text = ""
	textBox.TextScaled = true
	textBox.Font = Enum.Font.SourceSans
	textBox.Parent = parent

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 6)
	corner.Parent = textBox

	local stroke = Instance.new("UIStroke")
	stroke.Color = Color3.fromRGB(88, 137, 192)
	stroke.Thickness = 1
	stroke.Parent = textBox

	local textStroke = Instance.new("UIStroke")
	textStroke.Color = Color3.fromRGB(25, 45, 58)
	textStroke.Thickness = 1
	textStroke.Parent = textBox

	return textBox
end

local function createWheelButton(text, size, pos, parent)
	local button = Instance.new("TextButton")
	button.Size = size
	button.Position = pos
	button.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
	button.Text = text
	button.TextColor3 = Color3.fromRGB(255, 255, 255)
	button.TextScaled = true
	button.Font = Enum.Font.SourceSans
	button.Parent = parent

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 6)
	corner.Parent = button

	local stroke = Instance.new("UIStroke")
	stroke.Color = Color3.fromRGB(88, 137, 192)
	stroke.Thickness = 1
	stroke.Parent = button

	local textStroke = Instance.new("UIStroke")
	textStroke.Color = Color3.fromRGB(25, 45, 58)
	textStroke.Thickness = 1
	textStroke.Parent = button

	return button
end

local function createPartButton(part, pos, parent)
	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -10, 0, 25)
	button.Position = pos
	button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	button.Text = part.Name
	button.TextColor3 = Color3.fromRGB(255, 255, 255)
	button.TextScaled = true
	button.Font = Enum.Font.SourceSans
	button.Parent = parent

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 6)
	corner.Parent = button

	local stroke = Instance.new("UIStroke")
	stroke.Color = Color3.fromRGB(88, 137, 192)
	stroke.Thickness = 1
	stroke.Parent = button

	return button
end

-- Elementos da UI (Suspension)
local leftColumnX = 20
local rightColumnX = 180

createLabel("Camber", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 10), scrollingFrame)
local frontCamberTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 10), scrollingFrame)
createLabel("Camber", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 10), scrollingFrame)
local rearCamberTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 10), scrollingFrame)

createLabel("Height", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 40), scrollingFrame)
local frontFreeLengthTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 40), scrollingFrame)
createLabel("Height", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 40), scrollingFrame)
local rearFreeLengthTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 40), scrollingFrame)

createLabel("UpperLimit", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 70), scrollingFrame)
local frontUpperLimitTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 70), scrollingFrame)
frontUpperLimitTextBox.Text = ""
createLabel("UpperLimit", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 70), scrollingFrame)
local rearUpperLimitTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 70), scrollingFrame)
rearUpperLimitTextBox.Text = ""

createLabel("LowerLimit", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 100), scrollingFrame)
local frontLowerLimitTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 100), scrollingFrame)
frontLowerLimitTextBox.Text = ""
createLabel("LowerLimit", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 100), scrollingFrame)
local rearLowerLimitTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 100), scrollingFrame)
rearLowerLimitTextBox.Text = ""

createLabel("MaxLength", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 130), scrollingFrame)
local frontMaxLengthTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 130), scrollingFrame)
frontMaxLengthTextBox.Text = ""
createLabel("MaxLength", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 130), scrollingFrame)
local rearMaxLengthTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 130), scrollingFrame)
rearMaxLengthTextBox.Text = ""

createLabel("Damping", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 160), scrollingFrame)
local frontDampingTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 160), scrollingFrame)
frontDampingTextBox.Text = ""
createLabel("Damping", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 160), scrollingFrame)
local rearDampingTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 160), scrollingFrame)
rearDampingTextBox.Text = ""

createLabel("Suspension Wheels", UDim2.new(0, 100, 0, 20), UDim2.new(0, leftColumnX, 0, 190), scrollingFrame)
local wheelFRButton = createWheelButton("FR", UDim2.new(0, 30, 0, 30), UDim2.new(0, leftColumnX, 0, 215), scrollingFrame)
local wheelFLButton = createWheelButton("FL", UDim2.new(0, 30, 0, 30), UDim2.new(0, leftColumnX + 40, 0, 215), scrollingFrame)
local wheelRLButton = createWheelButton("RL", UDim2.new(0, 30, 0, 30), UDim2.new(0, rightColumnX, 0, 215), scrollingFrame)
local wheelRRButton = createWheelButton("RR", UDim2.new(0, 30, 0, 30), UDim2.new(0, rightColumnX + 40, 0, 215), scrollingFrame)

createLabel("LowRider Settings", UDim2.new(0, 100, 0, 20), UDim2.new(0, leftColumnX, 0, 250), scrollingFrame)

createLabel("Speed", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 275), scrollingFrame)
local lowRiderFrontSpeedTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 275), scrollingFrame)
lowRiderFrontSpeedTextBox.Text = "0.3"
createLabel("Max H", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 305), scrollingFrame)
local lowRiderFrontMinTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 305), scrollingFrame)
lowRiderFrontMinTextBox.Text = "2"
createLabel("Min H", UDim2.new(0, 50, 0, 20), UDim2.new(0, leftColumnX, 0, 335), scrollingFrame)
local lowRiderFrontMaxTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, leftColumnX + 60, 0, 335), scrollingFrame)
lowRiderFrontMaxTextBox.Text = "1"

createLabel("Speed", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 275), scrollingFrame)
local lowRiderRearSpeedTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 275), scrollingFrame)
lowRiderRearSpeedTextBox.Text = "0.3"
createLabel("Max H", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 305), scrollingFrame)
local lowRiderRearMinTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 305), scrollingFrame)
lowRiderRearMinTextBox.Text = "2"
createLabel("Min H", UDim2.new(0, 50, 0, 20), UDim2.new(0, rightColumnX, 0, 335), scrollingFrame)
local lowRiderRearMaxTextBox = createTextBox(UDim2.new(0, 70, 0, 25), UDim2.new(0, rightColumnX + 60, 0, 335), scrollingFrame)
lowRiderRearMaxTextBox.Text = "1"

createLabel("LowRider Wheels", UDim2.new(0, 100, 0, 20), UDim2.new(0, leftColumnX, 0, 365), scrollingFrame)
local lowRiderWheelFRButton = createWheelButton("FR", UDim2.new(0, 30, 0, 30), UDim2.new(0, leftColumnX, 0, 390), scrollingFrame)
local lowRiderWheelFLButton = createWheelButton("FL", UDim2.new(0, 30, 0, 30), UDim2.new(0, leftColumnX + 40, 0, 390), scrollingFrame)
local lowRiderWheelRLButton = createWheelButton("RL", UDim2.new(0, 30, 0, 30), UDim2.new(0, rightColumnX, 0, 390), scrollingFrame)
local lowRiderWheelRRButton = createWheelButton("RR", UDim2.new(0, 30, 0, 30), UDim2.new(0, rightColumnX + 40, 0, 390), scrollingFrame)

-- Botão LowRider Front
local lowRiderFrontButton = Instance.new("TextButton")
lowRiderFrontButton.Size = UDim2.new(0, 100, 0, 30)
lowRiderFrontButton.Position = UDim2.new(0, leftColumnX, 0, 425)
lowRiderFrontButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
lowRiderFrontButton.Text = "Front: OFF"
lowRiderFrontButton.TextColor3 = Color3.fromRGB(25, 45, 58)
lowRiderFrontButton.TextScaled = true
lowRiderFrontButton.Font = Enum.Font.SourceSans
lowRiderFrontButton.Parent = scrollingFrame

local lowRiderFrontButtonCorner = Instance.new("UICorner")
lowRiderFrontButtonCorner.CornerRadius = UDim.new(0, 8)
lowRiderFrontButtonCorner.Parent = lowRiderFrontButton

local lowRiderFrontButtonStroke = Instance.new("UIStroke")
lowRiderFrontButtonStroke.Color = Color3.fromRGB(255, 255, 255)
lowRiderFrontButtonStroke.Thickness = 1
lowRiderFrontButtonStroke.Parent = lowRiderFrontButton

local lowRiderFrontButtonTextStroke = Instance.new("UIStroke")
lowRiderFrontButtonTextStroke.Color = Color3.fromRGB(255, 255, 255)
lowRiderFrontButtonTextStroke.Thickness = 1
lowRiderFrontButtonTextStroke.Parent = lowRiderFrontButton

-- Botão LowRider Rear
local lowRiderRearButton = Instance.new("TextButton")
lowRiderRearButton.Size = UDim2.new(0, 100, 0, 30)
lowRiderRearButton.Position = UDim2.new(0, rightColumnX + 30, 0, 425)
lowRiderRearButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
lowRiderRearButton.Text = "Rear: OFF"
lowRiderRearButton.TextColor3 = Color3.fromRGB(25, 45, 58)
lowRiderRearButton.TextScaled = true
lowRiderRearButton.Font = Enum.Font.SourceSans
lowRiderRearButton.Parent = scrollingFrame

local lowRiderRearButtonCorner = Instance.new("UICorner")
lowRiderRearButtonCorner.CornerRadius = UDim.new(0, 8)
lowRiderRearButtonCorner.Parent = lowRiderRearButton

local lowRiderRearButtonStroke = Instance.new("UIStroke")
lowRiderRearButtonStroke.Color = Color3.fromRGB(255, 255, 255)
lowRiderRearButtonStroke.Thickness = 1
lowRiderRearButtonStroke.Parent = lowRiderRearButton

local lowRiderRearButtonTextStroke = Instance.new("UIStroke")
lowRiderRearButtonTextStroke.Color = Color3.fromRGB(255, 255, 255)
lowRiderRearButtonTextStroke.Thickness = 1
lowRiderRearButtonTextStroke.Parent = lowRiderRearButton

-- Botão Apply (Suspension)
local applyButton = Instance.new("TextButton")
applyButton.Size = UDim2.new(0, 70, 0, 30)
applyButton.Position = UDim2.new(1, -90, 1, -35)
applyButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
applyButton.Text = "Apply"
applyButton.TextColor3 = Color3.fromRGB(25, 45, 58)
applyButton.TextScaled = true
applyButton.Font = Enum.Font.SourceSansBold
applyButton.Parent = suspensionFrame

local applyButtonCorner = Instance.new("UICorner")
applyButtonCorner.CornerRadius = UDim.new(0, 8)
applyButtonCorner.Parent = applyButton

local applyButtonStroke = Instance.new("UIStroke")
applyButtonStroke.Color = Color3.fromRGB(255, 255, 255)
applyButtonStroke.Thickness = 1
applyButtonStroke.Parent = applyButton

local applyButtonTextStroke = Instance.new("UIStroke")
applyButtonTextStroke.Color = Color3.fromRGB(25, 45, 58)
applyButtonTextStroke.Thickness = 1
applyButtonTextStroke.Parent = applyButton

-- Botão Scanner (Suspension)
local scannerButton = Instance.new("TextButton")
scannerButton.Size = UDim2.new(0, 70, 0, 30)
scannerButton.Position = UDim2.new(1, -170, 1, -35)
scannerButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
scannerButton.Text = "Scan"
scannerButton.TextColor3 = Color3.fromRGB(25, 45, 58)
scannerButton.TextScaled = true
scannerButton.Font = Enum.Font.SourceSansBold
scannerButton.Parent = suspensionFrame

local scannerButtonCorner = Instance.new("UICorner")
scannerButtonCorner.CornerRadius = UDim.new(0, 8)
scannerButtonCorner.Parent = scannerButton

local scannerButtonStroke = Instance.new("UIStroke")
scannerButtonStroke.Color = Color3.fromRGB(255, 255, 255)
scannerButtonStroke.Thickness = 1
scannerButtonStroke.Parent = scannerButton

local scannerButtonTextStroke = Instance.new("UIStroke")
scannerButtonTextStroke.Color = Color3.fromRGB(25, 45, 58)
scannerButtonTextStroke.Thickness = 1
scannerButtonTextStroke.Parent = scannerButton

-- Variáveis
local lowRiderFrontActive = false
local lowRiderRearActive = false
local multiSelectActive = false
local selectedWheels = { FR = true, FL = true, RL = true, RR = true }
local selectedLowRiderWheels = { FR = true, FL = true, RL = true, RR = true }
local selectedParts = {}
local originalMaterials = {}
local strobeActiveParts = {}
local strobeTasks = {}

-- Função para o efeito Strobe Lights por peça
local function strobeEffect(part)
	while strobeActiveParts[part] do
		local speed = tonumber(strobeSpeedTextBox.Text) or 0.2
		local repetitions = math.max(1, tonumber(strobeRepTextBox.Text) or 5)
		local waitTime = tonumber(strobeWaitTextBox.Text) or 1
		local range = tonumber(strobeRangeTextBox.Text) or 10
		local brightness = tonumber(strobeBrightnessTextBox.Text) or 1

		if not originalMaterials[part] then
			originalMaterials[part] = part.Material
		end
		for i = 1, repetitions do
			if not strobeActiveParts[part] then break end
			part.Material = Enum.Material.Neon
			local light = Instance.new("PointLight")
			light.Range = range
			light.Brightness = brightness
			light.Shadows = true
			light.Color = part.Color
			light.Parent = part
			wait(speed)
			part.Material = originalMaterials[part] or Enum.Material.Plastic
			light:Destroy()
			wait(speed)
		end
		if strobeActiveParts[part] then
			wait(waitTime)
		end
	end
	part.Material = originalMaterials[part] or Enum.Material.Plastic
	local light = part:FindFirstChild("PointLight")
	if light then
		light:Destroy()
	end
end

-- Função para listar itens em Parts
local function updatePartsList(filter)
	for _, child in pairs(partsListFrame:GetChildren()) do
		if child:IsA("TextButton") then
			child:Destroy()
		end
	end

	local carCollection = workspace:FindFirstChild("CarCollection")
	if carCollection then
		local playerCar = carCollection:FindFirstChild(player.Name)
		if playerCar then
			local car = playerCar:FindFirstChild("Car")
			if car then
				local body = car:FindFirstChild("Body")
				if body then
					local parts = body:FindFirstChild("Parts")
					if parts then
						local yOffset = 0
						for _, part in pairs(parts:GetChildren()) do
							local partName = part.Name:lower()
							local filterText = filter and filter:lower() or ""
							if filterText == "" or partName:find(filterText) then
								local button = createPartButton(part, UDim2.new(0, 5, 0, yOffset), partsListFrame)
								if strobeActiveParts[part] then
									button.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
								end
								button.MouseButton1Click:Connect(function()
									if multiSelectActive then
										local index = table.find(selectedParts, part)
										if index then
											local selectionBox = part:FindFirstChild("SelectionBox")
											if selectionBox then
												selectionBox:Destroy()
											end
											table.remove(selectedParts, index)
										else
											table.insert(selectedParts, part)
											local selectionBox = Instance.new("SelectionBox")
											selectionBox.Adornee = part
											selectionBox.LineThickness = 0.05
											selectionBox.Color3 = Color3.fromRGB(0, 255, 0)
											selectionBox.Parent = part
											originalMaterials[part] = part.Material
										end
									else
										for _, p in pairs(selectedParts) do
											local prevSelectionBox = p:FindFirstChild("SelectionBox")
											if prevSelectionBox then
												prevSelectionBox:Destroy()
											end
										end
										selectedParts = {part}
										local selectionBox = Instance.new("SelectionBox")
										selectionBox.Adornee = part
										selectionBox.LineThickness = 0.05
										selectionBox.Color3 = Color3.fromRGB(0, 255, 0)
										selectionBox.Parent = part
										originalMaterials[part] = part.Material
									end
								end)
								yOffset = yOffset + 30
							end
						end
						partsListFrame.CanvasSize = UDim2.new(0, 0, 0, yOffset)
					end
				end
			end
		end
	end
end

-- Função para trocar a cor das partes selecionadas
local function changePartColor()
	if #selectedParts == 0 then
		changeColorButton.Text = "Select parts!"
		wait(1)
		changeColorButton.Text = "Change Color"
		return
	end

	local rgb = colorInputTextBox.Text:split(",")
	if #rgb ~= 3 then
		changeColorButton.Text = "Invalid RGB!"
		wait(1)
		changeColorButton.Text = "Change Color"
		return
	end

	local r = tonumber(rgb[1])
	local g = tonumber(rgb[2])
	local b = tonumber(rgb[3])

	if not r or not g or not b or r < 0 or r > 255 or g < 0 or g > 255 or b < 0 or b > 255 then
		changeColorButton.Text = "Invalid RGB!"
		wait(1)
		changeColorButton.Text = "Change Color"
		return
	end

	for _, part in pairs(selectedParts) do
		part.Color = Color3.fromRGB(r, g, b)
	end

	-- Remove seleções após aplicar a cor
	for _, part in pairs(selectedParts) do
		local selectionBox = part:FindFirstChild("SelectionBox")
		if selectionBox then
			selectionBox:Destroy()
		end
	end
	selectedParts = {}
end

-- Função para alternar seleção de roda
local function toggleWheelSelection(wheel, button, selectionTable)
	selectionTable[wheel] = not selectionTable[wheel]
	button.BackgroundColor3 = selectionTable[wheel] and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(200, 0, 0)
end

-- Conectar botões de seleção de rodas
wheelFRButton.MouseButton1Click:Connect(function() toggleWheelSelection("FR", wheelFRButton, selectedWheels) end)
wheelFLButton.MouseButton1Click:Connect(function() toggleWheelSelection("FL", wheelFLButton, selectedWheels) end)
wheelRLButton.MouseButton1Click:Connect(function() toggleWheelSelection("RL", wheelRLButton, selectedWheels) end)
wheelRRButton.MouseButton1Click:Connect(function() toggleWheelSelection("RR", wheelRRButton, selectedWheels) end)

lowRiderWheelFRButton.MouseButton1Click:Connect(function() toggleWheelSelection("FR", lowRiderWheelFRButton, selectedLowRiderWheels) end)
lowRiderWheelFLButton.MouseButton1Click:Connect(function() toggleWheelSelection("FL", lowRiderWheelFLButton, selectedLowRiderWheels) end)
lowRiderWheelRLButton.MouseButton1Click:Connect(function() toggleWheelSelection("RL", lowRiderWheelRLButton, selectedLowRiderWheels) end)
lowRiderWheelRRButton.MouseButton1Click:Connect(function() toggleWheelSelection("RR", lowRiderWheelRRButton, selectedLowRiderWheels) end)

-- Função LowRider para rodas dianteiras
local function lowRiderFrontEffect()
	while lowRiderFrontActive do
		local speed = tonumber(lowRiderFrontSpeedTextBox.Text) or 0.3
		local minHeight = tonumber(lowRiderFrontMinTextBox.Text) or 0.8
		local maxHeight = tonumber(lowRiderFrontMaxTextBox.Text) or 10

		local carCollection = workspace:FindFirstChild("CarCollection")
		if carCollection then
			local playerCar = carCollection:FindFirstChild(player.Name)
			if playerCar then
				local car = playerCar:FindFirstChild("Car")
				if car then
					local wheels = car:FindFirstChild("Wheels")
					if wheels then
						local frontWheels = {"FR", "FL"}
						for _, wheelName in pairs(frontWheels) do
							if selectedLowRiderWheels[wheelName] then
								local wheel = wheels:FindFirstChild(wheelName)
								if wheel then
									local spring = wheel:FindFirstChild("Spring")
									if spring then
										spring.FreeLength = minHeight
									end
								end
							end
						end
						wait(speed)
						for _, wheelName in pairs(frontWheels) do
							if selectedLowRiderWheels[wheelName] then
								local wheel = wheels:FindFirstChild(wheelName)
								if wheel then
									local spring = wheel:FindFirstChild("Spring")
									if spring then
										spring.FreeLength = maxHeight
									end
								end
							end
						end
						wait(speed)
					end
				end
			end
		end
	end
end

-- Função LowRider para rodas traseiras
local function lowRiderRearEffect()
	while lowRiderRearActive do
		local speed = tonumber(lowRiderRearSpeedTextBox.Text) or 0.3
		local minHeight = tonumber(lowRiderRearMinTextBox.Text) or 0.8
		local maxHeight = tonumber(lowRiderRearMaxTextBox.Text) or 10

		local carCollection = workspace:FindFirstChild("CarCollection")
		if carCollection then
			local playerCar = carCollection:FindFirstChild(player.Name)
			if playerCar then
				local car = playerCar:FindFirstChild("Car")
				if car then
					local wheels = car:FindFirstChild("Wheels")
					if wheels then
						local rearWheels = {"RL", "RR"}
						for _, wheelName in pairs(rearWheels) do
							if selectedLowRiderWheels[wheelName] then
								local wheel = wheels:FindFirstChild(wheelName)
								if wheel then
									local spring = wheel:FindFirstChild("Spring")
									if spring then
										spring.FreeLength = minHeight
									end
								end
							end
						end
						wait(speed)
						for _, wheelName in pairs(rearWheels) do
							if selectedLowRiderWheels[wheelName] then
								local wheel = wheels:FindFirstChild(wheelName)
								if wheel then
									local spring = wheel:FindFirstChild("Spring")
									if spring then
										spring.FreeLength = maxHeight
									end
								end
							end
						end
						wait(speed)
					end
				end
			end
		end
	end
end

-- Função para aplicar ajustes de suspensão
local function applyCambers()
	local frontCamber = tonumber(frontCamberTextBox.Text) or 0
	local rearCamber = tonumber(rearCamberTextBox.Text) or 0
	local carCollection = workspace:FindFirstChild("CarCollection")
	if carCollection then
		local playerCar = carCollection:FindFirstChild(player.Name)
		if playerCar then
			local car = playerCar:FindFirstChild("Car")
			if car then
				local wheels = car:FindFirstChild("Wheels")
				if wheels then
					local frontWheels = {"FR", "FL"}
					local rearWheels = {"RL", "RR"}
					for _, wheelName in pairs(frontWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local constraint = wheel:FindFirstChild("CylindricalConstraint")
								if constraint then
									constraint.InclinationAngle = frontCamber
								end
							end
						end
					end
					for _, wheelName in pairs(rearWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local constraint = wheel:FindFirstChild("CylindricalConstraint")
								if constraint then
									constraint.InclinationAngle = rearCamber
								end
							end
						end
					end
				end
			end
		end
	end
end

local function applyFreeLengths()
	local frontFreeLength = tonumber(frontFreeLengthTextBox.Text) or 0
	local rearFreeLength = tonumber(rearFreeLengthTextBox.Text) or 0
	local carCollection = workspace:FindFirstChild("CarCollection")
	if carCollection then
		local playerCar = carCollection:FindFirstChild(player.Name)
		if playerCar then
			local car = playerCar:FindFirstChild("Car")
			if car then
				local wheels = car:FindFirstChild("Wheels")
				if wheels then
					local frontWheels = {"FR", "FL"}
					local rearWheels = {"RL", "RR"}
					for _, wheelName in pairs(frontWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local spring = wheel:FindFirstChild("Spring")
								if spring then
									spring.FreeLength = frontFreeLength
								end
							end
						end
					end
					for _, wheelName in pairs(rearWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local spring = wheel:FindFirstChild("Spring")
								if spring then
									spring.FreeLength = rearFreeLength
								end
							end
						end
					end
				end
			end
		end
	end
end

local function applyLimits()
	local frontUpperLimit = tonumber(frontUpperLimitTextBox.Text) or 0
	local frontLowerLimit = tonumber(frontLowerLimitTextBox.Text) or 0
	local rearUpperLimit = tonumber(rearUpperLimitTextBox.Text) or 0
	local rearLowerLimit = tonumber(rearLowerLimitTextBox.Text) or 0

	local carCollection = workspace:FindFirstChild("CarCollection")
	if carCollection then
		local playerCar = carCollection:FindFirstChild(player.Name)
		if playerCar then
			local car = playerCar:FindFirstChild("Car")
			if car then
				local wheels = car:FindFirstChild("Wheels")
				if wheels then
					local frontWheels = {"FR", "FL"}
					local rearWheels = {"RL", "RR"}
					for _, wheelName in pairs(frontWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local constraint = wheel:FindFirstChild("CylindricalConstraint")
								if constraint then
									constraint.UpperLimit = frontUpperLimit
									constraint.LowerLimit = frontLowerLimit
								end
							end
						end
					end
					for _, wheelName in pairs(rearWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local constraint = wheel:FindFirstChild("CylindricalConstraint")
								if constraint then
									constraint.UpperLimit = rearUpperLimit
									constraint.LowerLimit = rearLowerLimit
								end
							end
						end
					end
				end
			end
		end
	end
end

local function applySpringProperties()
	local frontMaxLength = tonumber(frontMaxLengthTextBox.Text) or 0
	local rearMaxLength = tonumber(rearMaxLengthTextBox.Text) or 0
	local frontDamping = tonumber(frontDampingTextBox.Text) or 0
	local rearDamping = tonumber(rearDampingTextBox.Text) or 0

	local carCollection = workspace:FindFirstChild("CarCollection")
	if carCollection then
		local playerCar = carCollection:FindFirstChild(player.Name)
		if playerCar then
			local car = playerCar:FindFirstChild("Car")
			if car then
				local wheels = car:FindFirstChild("Wheels")
				if wheels then
					local frontWheels = {"FR", "FL"}
					local rearWheels = {"RL", "RR"}
					for _, wheelName in pairs(frontWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local spring = wheel:FindFirstChild("Spring")
								if spring then
									spring.MaxLength = frontMaxLength
									spring.Damping = frontDamping
								end
							end
						end
					end
					for _, wheelName in pairs(rearWheels) do
						if selectedWheels[wheelName] then
							local wheel = wheels:FindFirstChild(wheelName)
							if wheel then
								local spring = wheel:FindFirstChild("Spring")
								if spring then
									spring.MaxLength = rearMaxLength
									spring.Damping = rearDamping
								end
							end
						end
					end
				end
			end
		end
	end
end

-- Função Scanner
local function scanCarSettings()
	local carCollection = workspace:FindFirstChild("CarCollection")
	if carCollection then
		local playerCar = carCollection:FindFirstChild(player.Name)
		if playerCar then
			local car = playerCar:FindFirstChild("Car")
			if car then
				local wheels = car:FindFirstChild("Wheels")
				if wheels then
					local frontWheels = {"FR", "FL"}
					local rearWheels = {"RL", "RR"}
					for _, wheelName in pairs(frontWheels) do
						local wheel = wheels:FindFirstChild(wheelName)
						if wheel then
							local constraint = wheel:FindFirstChild("CylindricalConstraint")
							local spring = wheel:FindFirstChild("Spring")
							if constraint and spring then
								frontCamberTextBox.Text = tostring(constraint.InclinationAngle)
								frontFreeLengthTextBox.Text = tostring(spring.FreeLength)
								frontUpperLimitTextBox.Text = tostring(constraint.UpperLimit)
								frontLowerLimitTextBox.Text = tostring(constraint.LowerLimit)
								frontMaxLengthTextBox.Text = tostring(spring.MaxLength)
								frontDampingTextBox.Text = tostring(spring.Damping)
								break
							end
						end
					end
					for _, wheelName in pairs(rearWheels) do
						local wheel = wheels:FindFirstChild(wheelName)
						if wheel then
							local constraint = wheel:FindFirstChild("CylindricalConstraint")
							local spring = wheel:FindFirstChild("Spring")
							if constraint and spring then
								rearCamberTextBox.Text = tostring(constraint.InclinationAngle)
								rearFreeLengthTextBox.Text = tostring(spring.FreeLength)
								rearUpperLimitTextBox.Text = tostring(constraint.UpperLimit)
								rearLowerLimitTextBox.Text = tostring(constraint.LowerLimit)
								rearMaxLengthTextBox.Text = tostring(spring.MaxLength)
								rearDampingTextBox.Text = tostring(spring.Damping)
								break
							end
						end
					end
				end
			end
		end
	end
end

-- Conexões dos botões de menu
suspensionMenuButton.MouseButton1Click:Connect(function()
	suspensionFrame.Visible = true
	lightsFrame.Visible = false
	suspensionMenuButton.BackgroundColor3 = Color3.fromRGB(255, 150, 0)
	lightsMenuButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
end)

lightsMenuButton.MouseButton1Click:Connect(function()
	suspensionFrame.Visible = false
	lightsFrame.Visible = true
	suspensionMenuButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
	lightsMenuButton.BackgroundColor3 = Color3.fromRGB(255, 150, 0)
	updatePartsList()
end)

-- Conexões dos botões
mainButton.MouseButton1Click:Connect(function()
	uiFrame.Visible = not uiFrame.Visible
	mainButton.Text = uiFrame.Visible and "−" or "+"
end)

applyButton.MouseButton1Click:Connect(function()
	applyCambers()
	applyFreeLengths()
	applyLimits()
	applySpringProperties()
end)

lowRiderFrontButton.MouseButton1Click:Connect(function()
	lowRiderFrontActive = not lowRiderFrontActive
	lowRiderFrontButton.Text = lowRiderFrontActive and "Front: ON" or "Front: OFF"
	lowRiderFrontButton.BackgroundColor3 = lowRiderFrontActive and Color3.fromRGB(255, 150, 0) or Color3.fromRGB(88, 137, 192)
	if lowRiderFrontActive then
		spawn(lowRiderFrontEffect)
	end
end)

lowRiderRearButton.MouseButton1Click:Connect(function()
	lowRiderRearActive = not lowRiderRearActive
	lowRiderRearButton.Text = lowRiderRearActive and "Rear: ON" or "Rear: OFF"
	lowRiderRearButton.BackgroundColor3 = lowRiderRearActive and Color3.fromRGB(255, 150, 0) or Color3.fromRGB(88, 137, 192)
	if lowRiderRearActive then
		spawn(lowRiderRearEffect)
	end
end)

scannerButton.MouseButton1Click:Connect(function()
	scanCarSettings()
end)

strobeButton.MouseButton1Click:Connect(function()
	if #selectedParts > 0 then
		for _, part in pairs(selectedParts) do
			local selectionBox = part:FindFirstChild("SelectionBox")
			if selectionBox then
				selectionBox:Destroy()
			end
			local clickDetector = part:FindFirstChild("ClickDetector")
			if clickDetector then
				clickDetector:Destroy()
			end
			if not strobeActiveParts[part] then
				strobeActiveParts[part] = true
				local task = spawn(function() strobeEffect(part) end)
				strobeTasks[part] = task
			end
		end
		selectedParts = {}
		strobeButton.Text = "Strobe: ON"
		strobeButton.BackgroundColor3 = Color3.fromRGB(255, 150, 0)
		updatePartsList(searchBox.Text)
	else
		strobeButton.Text = "Select parts!"
		wait(1)
		strobeButton.Text = "Strobe: OFF"
	end
end)

multiSelectButton.MouseButton1Click:Connect(function()
	multiSelectActive = not multiSelectActive
	multiSelectButton.Text = multiSelectActive and "Multi: ON" or "Multi: OFF"
	multiSelectButton.BackgroundColor3 = multiSelectActive and Color3.fromRGB(255, 150, 0) or Color3.fromRGB(88, 137, 192)
end)

stopButton.MouseButton1Click:Connect(function()
	for part, _ in pairs(strobeActiveParts) do
		strobeActiveParts[part] = false
		part.Material = originalMaterials[part] or Enum.Material.Plastic
		local light = part:FindFirstChild("PointLight")
		if light then
			light:Destroy()
		end
		local selectionBox = part:FindFirstChild("SelectionBox")
		if selectionBox then
			selectionBox:Destroy()
		end
	end
	strobeActiveParts = {}
	strobeTasks = {}
	strobeButton.Text = "Strobe: OFF"
	strobeButton.BackgroundColor3 = Color3.fromRGB(88, 137, 192)
	selectedParts = {}
	updatePartsList(searchBox.Text)
end)

changeColorButton.MouseButton1Click:Connect(function()
	changePartColor()
end)

searchBox:GetPropertyChangedSignal("Text"):Connect(function()
	updatePartsList(searchBox.Text)
end)
